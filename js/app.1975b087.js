(function(){"use strict";var e={7857:function(e,t,a){var r=a(9242),n=a(3396);const i=(0,n._)("footer",{class:"footer"},[(0,n._)("a",{target:"_blank",href:"https://www.freepik.com"},"designed by Wirestock - Freepik.com")],-1);function s(e,t,a,r,s,c){const o=(0,n.up)("search-city"),h=(0,n.up)("current-weather");return(0,n.wg)(),(0,n.iD)("div",{onClick:t[0]||(t[0]=t=>e.setSearchData([]))},[(0,n.Wm)(o),(0,n.Wm)(h),i])}var c=a(7139);const o={class:"container search"},h={key:0,class:"country"},u=["src"],l={key:1,class:"acomplit"},p={class:"acomplit__list"},m={key:2,class:"error"};function d(e,t,a,i,s,d){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.wy)((0,n._)("input",{type:"text",class:"search__iput iput",placeholder:"City Name...","onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),onKeydown:t[1]||(t[1]=(0,r.D2)(((...e)=>d.getData&&d.getData(...e)),["enter"])),onInput:t[2]||(t[2]=(...e)=>d.autocomplite&&d.autocomplite(...e))},null,544),[[r.nr,s.search,void 0,{trim:!0}]]),(0,n._)("button",{class:"search__button btn clickable",type:"submit",onClick:t[3]||(t[3]=(...e)=>d.getData&&d.getData(...e))},"Search"),e.isSearched?((0,n.wg)(),(0,n.iD)("span",h,[(0,n._)("img",{src:[e.getWeatherCountry?d.flagIco(e.getWeatherCountry):""]},null,8,u),(0,n.Uk)((0,c.zw)(e.getWeatherCountry),1)])):(0,n.kq)("",!0),e.getSearchData[0]?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("ul",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getSearchData,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"acomplit__item",key:e,onClick:t[4]||(t[4]=(...e)=>d.setSearchCity&&d.setSearchCity(...e))},(0,c.zw)(e),1)))),128))])])):(0,n.kq)("",!0),e.getError?((0,n.wg)(),(0,n.iD)("div",m,"No results found! Fix it and try again.")):(0,n.kq)("",!0)])}var f=a(65),g={data(){return{search:this.$store.state.search}},computed:{...(0,f.Se)(["isSearched","getWeatherCountry","getError","getSearchData"])},methods:{...(0,f.nv)(["fetchWeatherData","fetchCity"]),...(0,f.OI)(["setSearchData"]),getData(){this.fetchWeatherData(this.search)},flagIco(e){const t=`https://www.countryflagicons.com/FLAT/16/${e}.png`;return t},setSearchCity(e){const t=e.target.closest("li").innerHTML;this.getSearchData.forEach((e=>{e===t&&(this.search=e,this.setSearchData([]),this.getData())}))},autocomplite(){this.$emit("input",this.search),this.fetchCity(this.search)}}},w=a(89);const _=(0,w.Z)(g,[["render",d]]);var y=_;const D={class:"currentWeather"},v={class:"container"},W={class:"currentWeather__wrapper"},k={class:"location"},C={class:"location__city"},S={class:"location__data"},b={class:"currentWeather__weather"},M={class:"currentWeather__now",style:{"background-image":"none"}},x={class:"currentWeather__temperature"},O=(0,n._)("span",{class:"temperature__C"},"°C",-1),z={class:"temperature__img"},E=["src"],I={class:"temperature__min"},U=(0,n._)("br",null,null,-1),$={class:"temperature__max"},R=(0,n._)("br",null,null,-1),L={class:"currentWeather__weather"},j={class:"weather__info"},F={class:"info"},B={class:"info"},K={class:"info"};function T(e,t,a,r,i,s){const o=(0,n.up)("vue-feather");return(0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("div",v,[(0,n._)("div",W,[(0,n._)("div",k,[(0,n._)("div",C,(0,c.zw)(e.getWeatherCity)+", "+(0,c.zw)(e.getWeatherCountry),1),(0,n._)("div",S,(0,c.zw)((new Date).toLocaleDateString("en-GB")),1)]),(0,n._)("div",b," Feels Like: "+(0,c.zw)(e.getWeatherMain.feelsLike)+"°C ",1),(0,n._)("div",M,[(0,n._)("div",x,[(0,n.Uk)((0,c.zw)(e.getWeatherMain.temp)+" ",1),O,(0,n._)("span",z,[(0,n._)("img",{src:[e.getWeatherMain.icon?s.weatherImg(e.getWeatherMain.icon):""],alt:"weather-icon"},null,8,E)]),(0,n._)("span",I,[(0,n.Uk)("Min:"),U,(0,n.Uk)((0,c.zw)(e.getWeatherMain.tempMin),1)]),(0,n._)("span",$,[(0,n.Uk)("Max:"),R,(0,n.Uk)((0,c.zw)(e.getWeatherMain.tempMax),1)])]),(0,n._)("div",L,(0,c.zw)(e.getWeatherMain.description),1)]),(0,n._)("div",j,[(0,n._)("span",null,[(0,n.Wm)(o,{type:"wind",size:"18px"}),(0,n.Uk)(),(0,n._)("span",F,(0,c.zw)(e.getWeatherInfo.wind)+" m/s",1)]),(0,n._)("span",null,[(0,n.Wm)(o,{type:"droplet",size:"18px"}),(0,n.Uk)(),(0,n._)("span",B,(0,c.zw)(e.getWeatherInfo.clouds)+" %",1)]),(0,n._)("span",null,[(0,n.Wm)(o,{type:"cloud",size:"18px"}),(0,n.Uk)(),(0,n._)("span",K,(0,c.zw)(e.getWeatherInfo.humidity)+" %",1)])])])])])}var q=a(7557),A={data(){return{}},components:{VueFeather:q.Z},computed:{...(0,f.Se)(["getWeatherMain","getWeatherCity","getWeatherCountry","getWeatherInfo"])},methods:{weatherImg(e){const t=` https://openweathermap.org/img/wn/${e}.png`;return t}}};const N=(0,w.Z)(A,[["render",T]]);var Z=N,H={name:"App",components:{SearchCity:y,CurrentWeather:Z},computed:{...(0,f.Se)(["isSearched"])},methods:{...(0,f.nv)(["fetchWeatherData"]),...(0,f.OI)(["setSearchData"]),initData(){this.fetchWeatherData(this.$store.state.defaultSearch)}},created(){this.initData()}};const P=(0,w.Z)(H,[["render",s]]);var V=P,G=(a(7658),(0,f.MT)({state:{apiBase:"https://api.openweathermap.org/data/2.5/",defaultSearch:"Kyiv",search:"",apiKey:"e5ac8edcf4d266d3ec9a4e1c2ef76ab9",weatherData:{},isError:!1,lastData:{},apiCityBase:"https://secure.geonames.org/searchJSON?",searchData:[]},getters:{getWeatherMain(e){const{temp:t,feelsLike:a,description:r,icon:n,info:i,tempMin:s,tempMax:c}=e.weatherData;return{temp:t,feelsLike:a,description:r,info:i,icon:n,tempMin:s,tempMax:c}},getWeatherInfo(e){const{wind:t,clouds:a,humidity:r}=e.weatherData;return{wind:t,clouds:a,humidity:r}},getWeatherCity(e){return e.weatherData.name},getWeatherCountry(e){return e.weatherData.country="UA",e.weatherData.country},isSearched(e){return""!==e.search},getError(e){return e.isError},getSearchData(e){return e.searchData}},mutations:{setSearch(e,t){e.search=t.toLowerCase()},setWeatherData(e,t){e.weatherData=t},setError(e,t){e.isError=t},setSearchData(e,t){e.searchData=t}},actions:{async fetchWeatherData({commit:e,state:t},a){try{e("setSearch",a);let r,n=await fetch(`${t.apiBase}weather?q=${a}&appid=${t.apiKey}&units=metric`).then((e=>e.json()));e("setError",!0),200!==n.cod?(console.log(`ERROR: ${n.cod} on fetchWeatherData`),r=this.lastData,e("setError",!0)):(r={name:n.name,temp:n.main.temp,tempMin:n.main.temp_min,tempMax:n.main.temp_max,feelsLike:n.main.feels_like,description:n.weather[0].description,icon:n.weather[0].icon,info:n.weather[0].main,wind:n.wind.speed,humidity:n.main.humidity,clouds:n.clouds.all,country:n.sys.country},this.lastData=r,e("setError",!1)),e("setWeatherData",r)}catch(r){console.log(r,"ERROR")}},async fetchCity({commit:e,state:t},a){try{let r=await fetch(`${t.apiCityBase}name_startsWith=${a}&maxRows=3&country=UA&username=elfid`).then((e=>e.json())),n=[];r.geonames.forEach((e=>{const t=e.toponymName;n.push(t)})),e("setSearchData",n)}catch(r){console.log(r,"ERROR")}}},modules:{}}));(0,r.ri)(V).use(G).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,i){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],i=e[u][2];for(var c=!0,o=0;o<r.length;o++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](r[o])}))?r.splice(o--,1):(c=!1,i<s&&(s=i));if(c){e.splice(u--,1);var h=n();void 0!==h&&(t=h)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,i,s=r[0],c=r[1],o=r[2],h=0;if(s.some((function(t){return 0!==e[t]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(o)var u=o(a)}for(t&&t(r);h<s.length;h++)i=s[h],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},r=self["webpackChunkweatherapp"]=self["webpackChunkweatherapp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(7857)}));r=a.O(r)})();
//# sourceMappingURL=app.1975b087.js.map